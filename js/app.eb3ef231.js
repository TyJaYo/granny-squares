(function(){"use strict";var e={1400:function(e,o,r){var t=r(5130),l=r(6768);const s={id:"app"};function a(e,o,r,t,a,n){const c=(0,l.g2)("GrannySquareDesigner");return(0,l.uX)(),(0,l.CE)("div",s,[o[0]||(o[0]=(0,l.Lk)("h1",null,"Granny Square Blanket Designer",-1)),(0,l.bF)(c)])}var n=r(4232),c=r.p+"img/crochet-texture.590cfad0.svg";const u={class:"granny-square-designer"},i={class:"design-controls"},d={class:"square-customizer"},p={class:"square-design-container"},h={class:"color-select-section"},C={class:"color-squares-container"},k=["onClick"],g={class:"color-select-section"},v={class:"color-squares-container"},m=["onClick"],b={class:"color-select-section"},f={class:"color-squares-container"},L=["onClick"],q={class:"action-buttons"},y={class:"square-preview-column"},S={class:"square-preview-container"},T={key:0,src:c,class:"texture-overlay",alt:""},w={class:"texture-toggle"},U={class:"toggle-container"},$={class:"shadow-toggle"},x={class:"toggle-container"},E={class:"blanket-container"},F={key:0,src:c,class:"texture-overlay",alt:""},R=["onClick"],X={class:"random-squares-generator"},P={class:"random-squares-input"};function O(e,o,r,s,a,c){const O=(0,l.g2)("ColorPalette");return(0,l.uX)(),(0,l.CE)("div",u,[o[14]||(o[14]=(0,l.Lk)("h2",null,"Granny Square Designer",-1)),(0,l.Lk)("div",i,[(0,l.bF)(O,{ref:"colorPalette",onColorsUpdated:c.handleColorsUpdated},null,8,["onColorsUpdated"]),(0,l.Lk)("div",d,[o[12]||(o[12]=(0,l.Lk)("h3",null,"Square Design",-1)),(0,l.Lk)("div",p,[((0,l.uX)(),(0,l.CE)("div",{class:"color-selectors",key:`color-selectors-${a.paletteUpdateKey}`},[(0,l.Lk)("div",h,[o[6]||(o[6]=(0,l.Lk)("h4",null,"Center:",-1)),(0,l.Lk)("div",C,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(c.colors,((e,o)=>((0,l.uX)(),(0,l.CE)("div",{key:`center-${e}-${o}`,class:(0,n.C4)(["color-square",{active:a.currentSquare.center===e}]),style:(0,n.Tr)({backgroundColor:e}),onClick:o=>c.setColor("center",e)},null,14,k)))),128))])]),(0,l.Lk)("div",g,[o[7]||(o[7]=(0,l.Lk)("h4",null,"Petals:",-1)),(0,l.Lk)("div",v,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(c.colors,((e,o)=>((0,l.uX)(),(0,l.CE)("div",{key:`petal-${e}-${o}`,class:(0,n.C4)(["color-square",{active:a.currentSquare.petals===e}]),style:(0,n.Tr)({backgroundColor:e}),onClick:o=>c.setColor("petals",e)},null,14,m)))),128))])]),(0,l.Lk)("div",b,[o[8]||(o[8]=(0,l.Lk)("h4",null,"Field:",-1)),(0,l.Lk)("div",f,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(c.colors,((e,o)=>((0,l.uX)(),(0,l.CE)("div",{key:`field-${e}-${o}`,class:(0,n.C4)(["color-square",{active:a.currentSquare.field===e}]),style:(0,n.Tr)({backgroundColor:e}),onClick:o=>c.setColor("field",e)},null,14,L)))),128))])]),(0,l.Lk)("div",q,[(0,l.Lk)("button",{onClick:o[0]||(o[0]=(...e)=>c.addSquare&&c.addSquare(...e)),class:"add-btn"},"Add Square to Blanket"),(0,l.Lk)("button",{onClick:o[1]||(o[1]=(...e)=>c.randomizeColors&&c.randomizeColors(...e)),class:"random-btn"},"Randomize Colors")])])),(0,l.Lk)("div",y,[(0,l.Lk)("div",S,[o[11]||(o[11]=(0,l.Lk)("h4",null,"Preview",-1)),(0,l.Lk)("div",{class:"granny-square preview-square",style:(0,n.Tr)({backgroundColor:a.currentSquare.field})},[(0,l.Lk)("div",{class:(0,n.C4)(["petal-container",{shadowed:a.showShadow}])},[a.showTexture?((0,l.uX)(),(0,l.CE)("img",T)):(0,l.Q3)("",!0),(0,l.Lk)("div",{class:"petal petal-top",style:(0,n.Tr)({backgroundColor:a.currentSquare.petals})},null,4),(0,l.Lk)("div",{class:"petal petal-top-right",style:(0,n.Tr)({backgroundColor:a.currentSquare.petals})},null,4),(0,l.Lk)("div",{class:"petal petal-right",style:(0,n.Tr)({backgroundColor:a.currentSquare.petals})},null,4),(0,l.Lk)("div",{class:"petal petal-bottom-right",style:(0,n.Tr)({backgroundColor:a.currentSquare.petals})},null,4),(0,l.Lk)("div",{class:"petal petal-bottom",style:(0,n.Tr)({backgroundColor:a.currentSquare.petals})},null,4),(0,l.Lk)("div",{class:"petal petal-bottom-left",style:(0,n.Tr)({backgroundColor:a.currentSquare.petals})},null,4),(0,l.Lk)("div",{class:"petal petal-left",style:(0,n.Tr)({backgroundColor:a.currentSquare.petals})},null,4),(0,l.Lk)("div",{class:"petal petal-top-left",style:(0,n.Tr)({backgroundColor:a.currentSquare.petals})},null,4),(0,l.Lk)("div",{class:"triangle-connector top",style:(0,n.Tr)({borderTopColor:a.currentSquare.petals})},null,4),(0,l.Lk)("div",{class:"triangle-connector top-right",style:(0,n.Tr)({borderTopColor:a.currentSquare.petals})},null,4),(0,l.Lk)("div",{class:"triangle-connector right",style:(0,n.Tr)({borderTopColor:a.currentSquare.petals})},null,4),(0,l.Lk)("div",{class:"triangle-connector bottom-right",style:(0,n.Tr)({borderTopColor:a.currentSquare.petals})},null,4),(0,l.Lk)("div",{class:"triangle-connector bottom",style:(0,n.Tr)({borderTopColor:a.currentSquare.petals})},null,4),(0,l.Lk)("div",{class:"triangle-connector bottom-left",style:(0,n.Tr)({borderTopColor:a.currentSquare.petals})},null,4),(0,l.Lk)("div",{class:"triangle-connector left",style:(0,n.Tr)({borderTopColor:a.currentSquare.petals})},null,4),(0,l.Lk)("div",{class:"triangle-connector top-left",style:(0,n.Tr)({borderTopColor:a.currentSquare.petals})},null,4),(0,l.Lk)("div",{class:"center",style:(0,n.Tr)({backgroundColor:a.currentSquare.center})},null,4)],2)],4),(0,l.Lk)("div",w,[(0,l.Lk)("label",U,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox","onUpdate:modelValue":o[2]||(o[2]=e=>a.showTexture=e)},null,512),[[t.lH,a.showTexture]]),o[9]||(o[9]=(0,l.Lk)("span",{class:"toggle-label"},"Texture Mode",-1))])]),(0,l.Lk)("div",$,[(0,l.Lk)("label",x,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox","onUpdate:modelValue":o[3]||(o[3]=e=>a.showShadow=e)},null,512),[[t.lH,a.showShadow]]),o[10]||(o[10]=(0,l.Lk)("span",{class:"toggle-label"},"3D Mode",-1))])])])])])])]),(0,l.Lk)("div",E,[o[13]||(o[13]=(0,l.Lk)("h3",null,"Your Granny Square Blanket",-1)),(0,l.Lk)("div",{class:"blanket",style:(0,n.Tr)({gridTemplateColumns:`repeat(${a.gridWidth}, 1fr)`})},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.squares,((e,o)=>((0,l.uX)(),(0,l.CE)("div",{key:o,class:"granny-square blanket-square",style:(0,n.Tr)({backgroundColor:e.field})},[(0,l.Lk)("div",{class:(0,n.C4)(["petal-container",{shadowed:a.showShadow}])},[a.showTexture?((0,l.uX)(),(0,l.CE)("img",F)):(0,l.Q3)("",!0),(0,l.Lk)("div",{class:"petal petal-top",style:(0,n.Tr)({backgroundColor:e.petals})},null,4),(0,l.Lk)("div",{class:"petal petal-top-right",style:(0,n.Tr)({backgroundColor:e.petals})},null,4),(0,l.Lk)("div",{class:"petal petal-right",style:(0,n.Tr)({backgroundColor:e.petals})},null,4),(0,l.Lk)("div",{class:"petal petal-bottom-right",style:(0,n.Tr)({backgroundColor:e.petals})},null,4),(0,l.Lk)("div",{class:"petal petal-bottom",style:(0,n.Tr)({backgroundColor:e.petals})},null,4),(0,l.Lk)("div",{class:"petal petal-bottom-left",style:(0,n.Tr)({backgroundColor:e.petals})},null,4),(0,l.Lk)("div",{class:"petal petal-left",style:(0,n.Tr)({backgroundColor:e.petals})},null,4),(0,l.Lk)("div",{class:"petal petal-top-left",style:(0,n.Tr)({backgroundColor:e.petals})},null,4),(0,l.Lk)("div",{class:"triangle-connector top",style:(0,n.Tr)({borderTopColor:e.petals})},null,4),(0,l.Lk)("div",{class:"triangle-connector top-right",style:(0,n.Tr)({borderTopColor:e.petals})},null,4),(0,l.Lk)("div",{class:"triangle-connector right",style:(0,n.Tr)({borderTopColor:e.petals})},null,4),(0,l.Lk)("div",{class:"triangle-connector bottom-right",style:(0,n.Tr)({borderTopColor:e.petals})},null,4),(0,l.Lk)("div",{class:"triangle-connector bottom",style:(0,n.Tr)({borderTopColor:e.petals})},null,4),(0,l.Lk)("div",{class:"triangle-connector bottom-left",style:(0,n.Tr)({borderTopColor:e.petals})},null,4),(0,l.Lk)("div",{class:"triangle-connector left",style:(0,n.Tr)({borderTopColor:e.petals})},null,4),(0,l.Lk)("div",{class:"triangle-connector top-left",style:(0,n.Tr)({borderTopColor:e.petals})},null,4),(0,l.Lk)("div",{class:"center",style:(0,n.Tr)({backgroundColor:e.center})},null,4)],2),(0,l.Lk)("button",{onClick:e=>c.removeSquare(o),class:"remove-btn"},"×",8,R)],4)))),128))],4),(0,l.Lk)("div",X,[(0,l.Lk)("div",P,[(0,l.bo)((0,l.Lk)("input",{type:"number",min:"1",max:"100","onUpdate:modelValue":o[4]||(o[4]=e=>a.randomSquaresCount=e),class:"random-count-input"},null,512),[[t.Jo,a.randomSquaresCount,void 0,{number:!0}]]),(0,l.Lk)("button",{onClick:o[5]||(o[5]=(...e)=>c.addRandomSquares&&c.addRandomSquares(...e)),class:"add-random-btn"}," Add "+(0,n.v_)(a.randomSquaresCount)+" Random Square"+(0,n.v_)(1!==a.randomSquaresCount?"s":""),1)])])])])}r(4114),r(8111),r(2489),r(1701);const A={class:"color-palette"},M={class:"color-list"},z=["onUpdate:modelValue","onChange"],K=["onUpdate:modelValue"],W=["onClick"];function j(e,o,r,s,a,n){return(0,l.uX)(),(0,l.CE)("div",A,[o[2]||(o[2]=(0,l.Lk)("h3",null,"Color Palette",-1)),(0,l.Lk)("div",M,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.colors,((e,o)=>((0,l.uX)(),(0,l.CE)("div",{key:o,class:"color-item"},[(0,l.bo)((0,l.Lk)("input",{type:"text",class:"color-value-input","onUpdate:modelValue":e=>a.colors[o]=e,onChange:e=>n.validateColor(o)},null,40,z),[[t.Jo,a.colors[o]]]),(0,l.bo)((0,l.Lk)("input",{type:"color",class:"color-picker","onUpdate:modelValue":e=>a.colors[o]=e},null,8,K),[[t.Jo,a.colors[o]]]),(0,l.Lk)("button",{onClick:e=>n.removeColor(o),class:"color-remove-btn"},"×",8,W)])))),128)),(0,l.Lk)("button",{onClick:o[0]||(o[0]=(...e)=>n.addNewColor&&n.addNewColor(...e)),class:"add-color-btn"},o[1]||(o[1]=[(0,l.Lk)("span",null,"+",-1),(0,l.eW)(" Add Color ")]))])])}var D={name:"ColorPalette",data(){return{colors:["#8ed2f0","#c2ed7b","#d8b029","#5b1621","#f2aecf","#dd8536","#d2dde7","#4a5b2d"]}},methods:{addNewColor(){const e="#"+Math.floor(16777215*Math.random()).toString(16).padStart(6,"0");this.colors.push(e),this.$emit("colors-updated",this.colors)},removeColor(e){this.colors.splice(e,1),this.$emit("colors-updated",this.colors)},updateColors(e){this.colors=[...e],this.$emit("colors-updated",this.colors)},getRandomColor(){return 0===this.colors.length?"#000000":this.colors[Math.floor(Math.random()*this.colors.length)]},validateColor(e){const o=/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/;o.test(this.colors[e])||(this.colors[e]=this.getRandomColor()),this.$emit("colors-updated",this.colors)}}},V=r(1241);const G=(0,V.A)(D,[["render",j]]);var I=G,_={name:"GrannySquareDesigner",components:{ColorPalette:I},data(){return{gridWidth:8,currentSquare:{center:"#8ed2f0",petals:"#c2ed7b",field:"#d89629"},squares:[],defaultColors:["#8ed2f0","#c2ed7b","#d8b029","#5b1621","#f2aecf","#dd8536","#d2dde7","#4a5b2d"],paletteColors:[],paletteUpdateKey:0,randomSquaresCount:1,showTexture:!0,showShadow:!0,colorsLoadedFromUrl:!1}},computed:{colors(){return this.paletteColors.length>0?this.paletteColors:this.defaultColors}},methods:{getRandomColor(e=[]){const o=this.colors.filter((o=>!e.includes(o)));return 0===o.length?e.length>0?"#000000":this.colors[0]:o[Math.floor(Math.random()*o.length)]},randomizeColors(){if(this.colors.length>=3){const e=this.getRandomColor(),o=this.getRandomColor([e]),r=this.getRandomColor([e,o]);this.currentSquare={center:e,petals:o,field:r}}else this.colors.length>0&&(this.currentSquare={center:this.getRandomColor(),petals:this.getRandomColor(),field:this.getRandomColor()});this.updateUrlWithColors()},addSquare(){this.squares.push({...this.currentSquare}),this.randomizeColors()},removeSquare(e){this.squares.splice(e,1)},setColor(e,o){this.currentSquare[e]=o,this.updateUrlWithColors()},handleColorsUpdated(e){this.paletteColors=[...e],this.paletteUpdateKey++,this.updateUrlWithColors()},addRandomSquares(){const e=Math.max(1,parseInt(this.randomSquaresCount)||1);for(let o=0;o<e;o++){const e=this.getRandomColor(),o=this.getRandomColor([e]),r=this.getRandomColor([e,o]);this.squares.push({center:e,petals:o,field:r})}this.randomizeColors()},loadColorsFromUrl(){const e=new URLSearchParams(window.location.search),o=e.get("p");if(this.colorsLoadedFromUrl=!1,o){const e=o.split("-"),r=[];for(const o of e)/^[0-9A-F]{6}$/i.test(o)&&r.push(`#${o}`);r.length>0&&(this.paletteColors=r,this.$refs.colorPalette&&this.$refs.colorPalette.updateColors(r),this.colorsLoadedFromUrl=!0)}},updateUrlWithColors(){const e=this.paletteColors.length>0?this.paletteColors:this.defaultColors,o=new URLSearchParams,r=e.map((e=>e.replace("#",""))).join("-");o.set("p",r);const t=`${window.location.pathname}?${o.toString()}`;window.history.replaceState({},"",t)}},watch:{colors:{handler(e){e.length>0&&(e.includes(this.currentSquare.center)||(this.currentSquare.center=e[0]),e.includes(this.currentSquare.petals)||(this.currentSquare.petals=e[0]),e.includes(this.currentSquare.field)||(this.currentSquare.field=e[0]))},deep:!0}},mounted(){this.$nextTick((()=>{this.$refs.colorPalette&&(this.paletteColors=[...this.$refs.colorPalette.colors]),this.loadColorsFromUrl(),this.colorsLoadedFromUrl||this.randomizeColors(),this.updateUrlWithColors()}))},created(){window.addEventListener("popstate",this.loadColorsFromUrl)},beforeUnmount(){window.removeEventListener("popstate",this.loadColorsFromUrl)}};const B=(0,V.A)(_,[["render",O]]);var J=B,N={name:"App",components:{GrannySquareDesigner:J}};const H=(0,V.A)(N,[["render",a]]);var Q=H;(0,t.Ef)(Q).mount("#app")}},o={};function r(t){var l=o[t];if(void 0!==l)return l.exports;var s=o[t]={exports:{}};return e[t].call(s.exports,s,s.exports,r),s.exports}r.m=e,function(){var e=[];r.O=function(o,t,l,s){if(!t){var a=1/0;for(i=0;i<e.length;i++){t=e[i][0],l=e[i][1],s=e[i][2];for(var n=!0,c=0;c<t.length;c++)(!1&s||a>=s)&&Object.keys(r.O).every((function(e){return r.O[e](t[c])}))?t.splice(c--,1):(n=!1,s<a&&(a=s));if(n){e.splice(i--,1);var u=l();void 0!==u&&(o=u)}}return o}s=s||0;for(var i=e.length;i>0&&e[i-1][2]>s;i--)e[i]=e[i-1];e[i]=[t,l,s]}}(),function(){r.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(o,{a:o}),o}}(),function(){r.d=function(e,o){for(var t in o)r.o(o,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){r.p="/granny-squares/"}(),function(){var e={524:0};r.O.j=function(o){return 0===e[o]};var o=function(o,t){var l,s,a=t[0],n=t[1],c=t[2],u=0;if(a.some((function(o){return 0!==e[o]}))){for(l in n)r.o(n,l)&&(r.m[l]=n[l]);if(c)var i=c(r)}for(o&&o(t);u<a.length;u++)s=a[u],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(i)},t=self["webpackChunkgranny_squares"]=self["webpackChunkgranny_squares"]||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))}();var t=r.O(void 0,[504],(function(){return r(1400)}));t=r.O(t)})();
//# sourceMappingURL=app.eb3ef231.js.map